<div class="report-card">
  <div class="card-header">
    <div class="left-side">
      <div class="report-chip">
        <label>Step state:</label>
        <span [class]="['state', 'mat-elevation-z1', step.state.toLocaleLowerCase()]">{{ step.state }}</span>
      </div>

      <div class="report-chip">
        <label>Step info:</label>
        <span class="id-card mat-elevation-z1"
          ><span class="id">{{ step.id }}</span
          >{{ step.step_name | shortString: 20 }}</span
        >
      </div>
    </div>

    <div class="right-side">
      <div class="report-chip">
        <label>Start time:</label>
        <span class="time"><mat-icon color="primary">play_arrow</mat-icon>{{ step.start_time | crytonDatetime }}</span>
      </div>
      <div class="report-chip">
        <label>Finish time:</label>
        <span class="time"><mat-icon color="primary">stop</mat-icon>{{ step.finish_time | crytonDatetime }}</span>
      </div>
    </div>
  </div>

  <div class="report-chip">
    <label>Evidence file:</label>
    <span>{{ step.evidence_file }}</span>
  </div>

  <cdk-accordion class="outputs-accordion">
    <cdk-accordion-item
      *ngFor="let output of outputs; let index = index"
      #accordionItem="cdkAccordionItem"
      class="outputs-accordion-item"
    >
      <label class="output-label" (click)="accordionItem.toggle()"
        >{{ output.name + ':' }}<mat-icon [class.rotated]="accordionItem.expanded">expand_more</mat-icon></label
      >
      <code [@expansion]="getExpandedState(accordionItem.expanded)" class="outputs-accordion-body">{{
        output.content
      }}</code>
    </cdk-accordion-item>
  </cdk-accordion>
</div>
